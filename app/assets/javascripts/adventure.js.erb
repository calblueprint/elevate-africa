var ready = function() {
  $(document).ready(function() {

    // which: "egypt" or "safari"
    var which = "safari";

    // initial settings
    $(".campaigns-adventure-background").attr("id", "ca-" + which + "-background");
    $(".campaigns-adventure-foreground").attr("id", "ca-" + which + "-foreground");

    if(which == "egypt") {
      $(".campaigns-adventure-vehicle-body").attr("id", "ca-vehicle-boat");
      $(".campaigns-adventure-wheel").remove();
    }
    else if(which == "safari") {
      $(".campaigns-adventure-vehicle-body").attr("id", "ca-vehicle-jeep");
      $(".campaigns-adventure-wheel").attr("src", "<%= asset_path("safari_jeep_wheel.png") %>");
    }

    // adventure controller
    $(".campaigns-adventure-foreground").click(function() {
      advHideTeam();

      setTimeout(function() {
        advAnimateVehicle(which);
        $(".campaigns-adventure-foreground").animate({"background-position-x": "-=400px"}, 3000);
        $(".campaigns-adventure-background").animate({"background-position-x": "-=400px"}, 3000);

        setTimeout(function() {
          advUnanimateVehicle(which);
        }, 3000);

        setTimeout(function() {
          $("#campaigns-adventure-vehicle").animate({"left": "+=650px"}, 5000);
          advAnimateVehicle(which);
        }, 3500);

        setTimeout(function() {
          advUnanimateVehicle(which);
          advShowTeam();
        }, 10000);
      }, 1000);
    });
  });
}

$(document).ready(ready);
$(document).on('page:load', ready);

function advAnimateVehicle(which) {
  if(which == "egypt")
    $(".campaigns-adventure-vehicle-body").addClass("ca-animate-boat");
  else if(which == "safari")
    $(".campaigns-adventure-wheel").addClass("ca-animate-jeep");
}

function advUnanimateVehicle(which) {
  if(which == "egypt")
    $(".campaigns-adventure-vehicle-body").removeClass("ca-animate-boat");
  else if(which == "safari")
    $(".campaigns-adventure-wheel").removeClass("ca-animate-jeep");
}

function advHideTeam() {
  // css 1 second duration
  $("#campaigns-adventure-team").addClass("campaigns-adventure-team-hide");
}

function advShowTeam() {
  // css 1 second duration
  $("#campaigns-adventure-team").addClass("campaigns-adventure-team-show");
  $("#campaigns-adventure-team").removeClass("campaigns-adventure-team-hide");

  setTimeout(function() {
    $("#campaigns-adventure-team").removeClass("campaigns-adventure-team-show");
  }, 1000);
}
